defaults:
  - model: ffl   # Default model
  - dataset: lidarpoly   # Default dataset
  - run_type: release   # Default run_type
  - host: gin
  - _self_

# experiment_name: images_only
# experiment_name: debug
# experiment_name: inria_D4_aug
experiment_name: debug
group_name: v2_${.model.name}
multi_gpu: false
device: cuda
log_to_wandb: ${.run_type.log_to_wandb}

output_dir: ${.host.data_root}/${.model.name}_outputs/${.dataset.name}/${.experiment_name}

model:
  batch_size: ${..run_type.batch_size}
dataset:
  train_subset: ${..run_type.train_subset}
  val_subset: ${..run_type.val_subset}
num_workers: ${.run_type.num_workers}

use_lidar: false
use_images: true

debug_vis: false

checkpoint: null
checkpoint_file: null # override for loading a specific checkpoint file

eval:
  gt_file: ${..dataset.annotations.val}
  pred_file: ${..output_dir}/predictions/${..checkpoint}.json
  eval_file: ${..output_dir}/eval/${..checkpoint}.csv
  modes:
    - coco
    - iou
    - polis
    # - mta
    # - topdig

save_best: true
save_latest: true
save_every: 10
val_every: 1

hydra:
  run:
    dir: ${...output_dir}

update_pbar_every: ${.host.update_pbar_every}